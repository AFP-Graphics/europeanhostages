<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>European Hostages</title>
  <meta name="description" content="The first comprehensive database of all known
international hostage cases involving Europeans">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <link href="https://api.tiles.mapbox.com/mapbox.js/v2.2.0/mapbox.css" rel="stylesheet" />
  <link href="css/vendor.css" rel="stylesheet" />
  <link rel="stylesheet" href="css/app.css">
</head>

<body>
  <!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
<![endif]-->
  <div>
    <header class="container-fluid row">
      <div class="logo col-xs-12 col-sm-10">
        <img class="hidden-xs" src="media/Header_title-large.svg" style="max-width: 810px;" alt="European Hostages" />
        <img class="hidden-sm hidden-md hidden-lg" src="media/Header_title-620.svg" style="max-width: 401px;" alt="European Hostages" />
        <h1 style="display: none;">European Hostages
          <small>around the world 2000 - 2015</small>
        </h1>
      </div>
      <div class="social col-xs-12 col-sm-2">
        <span id="twitterButton">
          <a target="_blank" title="Share this with your followers" href="http://twitter.com/home?status=1st database of all known European hostage cases http://europeanhostages.com" class="share-twitter share-icon"
          via="wpchannel" rel="nofollow">
            <img src="media/icn_6-twitter.svg" alt="Twitter" />
          </a>
        </span>
        <span id="facebookButton">
          <a title="Share on Facebook" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://europeanhostages.com">
            <img src="media/icn_7-facebook.svg" alt="Facebook" />
          </a>
        </span>
      </div>
      <nav class="col-sm-12 hidden-xs nav nav-tabs nav-justified" id="tabs">
        <li role="presentation" class="sort timeline text-center">
          <a href="#data" data-tabtarget="timeline">
            <img src="media/icn_2-when.svg" style="max-width: 48px;" alt="" />
            <br/>WHEN</a>
        </li>
        <li role="presentation" class="sort map text-center">
          <a href="#map"  data-tabtarget="map">
            <img src="media/icn_4-where.svg" style="max-width: 48px;" alt="" />
            <br/>WHERE</a>
        </li>
        <li role="presentation" class="sort duration text-center">
          <a href="#data" data-tabtarget="duration">
            <img src="media/icn_1-how-long.svg" style="max-width: 48px;" alt="" />
            <br/>DURATION</a>
        </li>
        <li role="presentation" class="sort hostages text-center">
          <a href="#data" data-tabtarget="hostages">
            <img src="media/icn_3-ended.svg" style="max-width: 48px;" alt="" />
            <br/>OUTCOME</a>
        </li>
        <li role="presentation" class="sort about text-center">
          <a href="#about" data-tabtarget="about">
            <img src="media/icn_5-about.svg" style="max-width: 48px;" alt="" />
            <br/>ABOUT</a>
        </li>
      </nav>
      <nav class="col-xs-12 hidden-sm hidden-md hidden-lg nav nav-tabs notjustified" id="tabs">
        <li role="presentation" class="sort timeline text-center">
          <a href="#data" data-tabtarget="timeline">
            <img src="media/icn_2-when.svg" style="max-width: 48px;" alt="" />
            <br/>WHEN</a>
        </li>
        <li role="presentation" class="sort map text-center">
          <a href="#map" data-tabtarget="map">
            <img src="media/icn_4-where.svg" style="max-width: 48px;" alt="" />
            <br/>WHERE</a>
        </li>
        <li role="presentation" class="sort duration text-center">
          <a href="#data" data-tabtarget="duration">
            <img src="media/icn_1-how-long.svg" style="max-width: 48px;" alt="" />
            <br/>DURATION</a>
        </li>
        <li role="presentation" class="sort hostages text-center">
          <a href="#data" data-tabtarget="hostages">
            <img src="media/icn_3-ended.svg" style="max-width: 48px;" alt="" />
            <br/>OUTCOME</a>
        </li>
        <li role="presentation" class="sort about text-center">
          <a href="#about" data-tabtarget="about">
            <img src="media/icn_5-about.svg" style="max-width: 48px;" alt="" />
            <br/>ABOUT</a>
        </li>
      </nav>
    </header>
    <div class="col-xs-12 text-center" id="loader">
        <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
        </div>
    </div>
    <div class="tab-content">
      <div role="tabpanel" class="tab-pane container-fluid" id="data">
        <div class="menu-block col-xs-12 filter row">
          <div id="countries-div" class="col-xs-12 col-sm-6">
            <select id="countries" class="text-left form-control input-lg">
              <option value="all" selected="selected">Select nationality</option>
              <option value="austria">Austria</option>
              <option value="belgium">Belgium</option>
              <option value="bulgaria">Bulgaria</option>
              <option value="croatia">Croatia</option>
              <option value="cyprus">Cyprus</option>
              <option value="denmark">Denmark</option>
              <option value="finland">Finland</option>
              <option value="france">France</option>
              <option value="germany">Germany</option>
              <option value="greece">Greece</option>
              <option value="ireland">Ireland</option>
              <option value="italy">Italy</option>
              <option value="lithuania">Lithuania</option>
              <option value="netherlands">Netherlands</option>
              <option value="norway">Norway</option>
              <option value="poland">Poland</option>
              <option value="portugal">Portugal</option>
              <option value="romania">Romania</option>
              <option value="spain">Spain</option>
              <option value="sweden">Sweden</option>
              <option value="switzerland">Switzerland</option>
              <option value="united kingdom">United Kingdom</option>
            </select>
          </div>
          <div class="col-xs-12 col-sm-6">
            <form>
              <div class="right-inner-addon ">
                <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                <input id="search" type="search" class="form-control input-lg" placeholder="Search (type key word)" />
              </div>
            </form>
          </div>
        </div>
        <div class="menu-block legend col-xs-12 row">
          <div class="col-xs-12 col-md-12">
            <p>Display by region
              <span title="Display all regions" class="removeFilters glyphicon glyphicon-remove"></span>
            </p>

            <div class='my-legend' id="legend">
              <div class='legend-scale'>
                <ul class="legend-labels legend-locations">
                </ul>
                <ul class="legend-labels legend-hostages" style="display: none;">
                  <li>Dead
                    <span style="background-color: #575e61;"></span>
                  </li>
                  <li>Freed
                    <span style="background-color: #87b9db;"></span>
                  </li>
                  <li>Unknown
                    <span style="background-color: #c4bdb5;"></span>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <hr/>
        </div>
        <div id="dataviz">
        </div>
      </div>
      <div role="tabpanel" class="tab-pane" id="map">
        <div id="leafletMap" class="col-xs-12"></div>
        <div class="hidden">
          <div id="mapInfo">
            <div id="date"></div>
            <div class="hidden-xs hidden-sm">
              <h3>Currently displayed:</h3>
              <ul id="displayed-list" style="max-height: 250px; overflow-y: auto;"></ul>
            </div>
          </div>
        </div>
      </div>
      <div role="tabpanel" class="tab-pane container-fluid" id="about">
      <div class="row">
      <div class="col-xs-12 col-sm-5 col-md-5 col-lg-4 about left">
        <h2>A case study in data journalism</h2>
      <div class="hidden-xs hidden-sm">
      <h3>Read more</h3>
      <ul class="list-unstyled">
      <li><a href="http://u.afp.com/otages" target="_blank">400 Europeans taken hostage since 2000</a></li>
      <!-- <li><a href="" target="_blank">400 Europeans taken hostage since 2000</a></li> -->
      </ul>

      <h3>Contact us</h3>
      <a href="mailto:contact@europeanhostages.com">contact@europeanhostages.com</a>
      
      <hr />
      <h3>Credits</h3>
      <p><strong>Source :</strong> AFP</p>
      <p><strong>Data design & input by IFP students: </strong>Pierre Adrian, Grégoire Belhoste, Romain Blanc, Robin Braquet, Déborah Coeffier, Claire De Roux, Simon Fontvieille, Angèle Guicharnaud, Brice Laemle, Maxime Lebufnoir, Florian Reynaud</p>
      <p><strong>Visualization by AFP Graphics Team:</strong> Jules Bonnard, Fred Bourgeais, Sarah Lepreux and Pablo Sinivassin</p>
      <p><strong>Concept : </strong>Marlowe Hood</p>
      <img src="media/logo_afp.svg" style="width: 70px;" alt="AFP" />
      </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-5 col-md-offset-1 col-lg-4 col-lg-offset-2 about right">
        <p>The European Hostage Project is a comprehensive database of cases from January 1, 2000 to March 31, 2015 in which Europeans were taken hostage by non-state groups outside of Europe. It covers the 28 European Union countries, plus Norway and Switzerland,
          and is the fruit of a months-long collaboration between Agence France Presse and 2nd-year graduate students at the Journalism School of the Institute Français de Presse.</p>
        <p>To compile the database, AFP extracted every story in English and French since 2000 that had the keyword (or ‘slug’, in news media jargon) ‘hostage’ or ‘otage’, some 40,000 articles in all. From there, the Agency built and adapted a range of tools
          so that IFP’s journalists-in-training could sort and sift through them, dividing them by country and compiling detailed files for each hostage event and individual hostage. All this culled data was entered into another tool built especially
          for data-driven journalism projects by the French start-up Journalism++.</p>
        <p>Investigative collaborations between top journalism schools and major media are well established in the US, and AFP is pleased to help pioneer such efforts in France. Both parties come out ahead: News organizations can mobilize a large number
          of motivated young journalists over a period of weeks or months, something they rarely can afford to do with their own reporters, while students get real-world experience under the supervision of seasoned professionals, and a published result.</p>
        <p>We are particularly proud of this effort, which has uncovered patterns in the taking of hostages from Europe that up to now – even for veteran reporters covering the topic – have remained elusive or even invisible. A good example, then, of the
          power of data journalism.</p>

          <h3>Note on methodology</h3>

          <p>The data for this investigation comes almost entirely from published AFP articles, with additional information from official sources (e.g. the UN), and other major media (e.g. BBC). As a result, only hostage cases reported on by the media have been taken into account.</p>

          <p>The scope of the investigation covers European Union nations along with Norway and Switzerland, a total of 30 countries.</p>

          <p>The length of a hostage event runs from the date hostages were abducted to the date on which – in the case of multiple hostages – the last hostage was released or died. In cases where one of the hostages is still in captivity, or his or her status is unknown, the timeline representing the hostage event does not end in a dot but continues as a bar.</p>

          <p>After five years without information, a hostage would be considered as presumed dead.</p>

          <p>The points on the map represent the approximate locations where hostages were kidnapped or abducted.</p>

          <p>The information available regarding hostage cases is difficult to obtain, and almost always partial. If you have information about a case involving a European citizen during the period covered (2000-2015) that is not listed here, or if you think that any information presented here is inaccurate, please let us know at the following address: <a href="mailto:contact@europeanhostages.com">contact@europeanhostages.com</a></p>
      </div>
      <div class="more col-xs-12 visible-xs visible-sm about right">
      <!-- <h3>Read more on AFP blog</h3>
      <ul class="list-unstyled">
      <li><a href="" target="_blank">400 Europeans taken hostage since 2000</a></li>
      </ul> -->
      
      <hr />
      <h3>Credits</h3>
      <p><strong>Source :</strong> AFP</p>
      <p><strong>Data design & input by IFP students: </strong>Pierre Adrian, Grégoire Belhoste, Romain Blanc, Robin Braquet, Déborah Coeffier, Claire De Roux, Simon Fontvieille, Angèle Guicharnaud, Brice Laemle, Maxime Lebufnoir, Florian Reynaud</p>
      <p><strong>Visualization by AFP Graphics Team:</strong> Jules Bonnard, Fred Bourgeais, Sarah Lepreux and Pablo Sinivassin</p>
      <p><strong>Concept : </strong>Marlowe Hood</p>
      </div>
      </div>
    </div>
    <div class="source col-xs-12 text-right">

    </div>
  </div>
  <div class="modal fade" id="moreInfo" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <h4 class="modal-title" id="exampleModalLabel">Title</h4>

          <div class="duration"></div>
        </div>
        <div class="modal-body">
          <div class="hostages">
          </div>
          <div class="description">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <script>
    function pegasus(a, b) {
      return b = new XMLHttpRequest, b.open("GET", a),
        a = [], b.onreadystatechange = b.then = function(c, d, e) {
          if (c.call && (a = [, c, d]),
            4 == b.readyState && (e = a[0 | b.status / 200])) try {
            e(JSON.parse(b.responseText), b)
          } catch (f) {
            e(null, b)
          }
        }, b.send(), b
    }

    var requestData = pegasus('./data/data.json');
    var requestGeojson = pegasus('./data/data.geojson');

  </script>
  <script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-64253904-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
  </script>
  <script src="js/libraries.js"></script>
  <script src="js/vendor.js"></script>
  <script src="js/app.js"></script>
  <script>
  var UI = require('ui');

  var Chart = require('chart');
  var Map = require('map');
  requestData.then(function(datafile) {
      if (datafile !== null) {
        Chart.init(datafile);
        //Indexation des évènements par ID
        Chart.data_indexed = _.indexBy(datafile, 'id');
        requestGeojson.then(function(geojson) {
          if (geojson !== null) Map.init(geojson);
        });
      }
    });

  </script>
</body>

</html>
